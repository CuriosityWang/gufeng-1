{"version":3,"sources":["uni-app:///main.js","webpack:///D:/code/HBuilderX/gufeng/pages/my/my.vue?0cd1","webpack:///D:/code/HBuilderX/gufeng/pages/my/my.vue?18b1","webpack:///D:/code/HBuilderX/gufeng/pages/my/my.vue?6376","webpack:///D:/code/HBuilderX/gufeng/pages/my/my.vue?e26e","uni-app:///pages/my/my.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,mF;AACAA,UAAU,CAACC,WAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAA+G;AAC/G;AACsD;AACL;;;AAGjD;AAC+K;AAC/K,gBAAgB,sLAAU;AAC1B,EAAE,wEAAM;AACR,EAAE,6EAAM;AACR,EAAE,sFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA2pB,CAAgB,ypBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsD/qB;AACA;AACA,4B;AACA;AACA,MADA,kBACA;AACA;AACA,gBADA;AAEA,cAFA;AAGA,cAHA;AAIA,wBAJA;;AAMA,GARA;AASA;AACA;AACA;AACA;AACA,GAbA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GArBA;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCADA;AAEA,oBAFA;AAGA;AACA,2DADA,EAHA;;AAMA;AACA,wBADA;AAEA,2BAFA,EANA;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAjBA;;AAmBA;AACA,GAhDA;AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAdA;AAeA;AACA;AACA;AACA;AACA;AACA,KApBA;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAtCA;AAuCA;AACA;AACA;AACA;AACA,sBADA;AAEA,oBAFA;;AAIA;AACA;AACA,+BADA;;AAGA,OAJA,EAIA,IAJA;AAKA,KAnDA;AAoDA;AACA;AACA;AACA,gDADA;;AAGA,KAzDA;AA0DA;AACA;AACA;AACA;AACA,mBADA;AAEA,0BAFA;AAGA;AACA;AACA;AACA,qDADA;AAEA,4BAFA;AAGA;AACA,mEADA,EAHA;;AAMA;AACA,gCADA;AAEA,mCAFA;AAGA,4BAHA,EANA;;AAWA;AACA;AACA;AACA;AACA;AACA,gCADA;AAEA,gCAFA;;AAIA;AACA,iBANA,MAMA;AACA;AACA,iCADA;AAEA,gCAFA;;AAIA;AACA,eA1BA;;AA4BA;AACA,SAlCA;;AAoCA,KAjGA;AAkGA;AACA;AACA,sDADA;AAEA,sBAFA;AAGA;AACA,6DADA,EAHA;;AAMA;AACA,0BADA;AAEA,6BAFA,EANA;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAnBA;AAoBA;AACA;AACA,SAtBA;;AAwBA,KA3HA,EAjDA,E","file":"pages/my/my.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/my/my.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./my.vue?vue&type=template&id=0be17cc6&\"\nvar renderjs\nimport script from \"./my.vue?vue&type=script&lang=js&\"\nexport * from \"./my.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/my/my.vue\"\nexport default component.exports","export * from \"-!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./my.vue?vue&type=template&id=0be17cc6&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./my.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./my.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"window\">\r\n\t\t<view class=\"syh-show\">\r\n\t\t\t<image src=\"../../static/my.jpg\" mode=\"widthFix\"></image>\r\n\t\t</view>\r\n\t\t<view class=\"syh-padding\">\r\n\t\t\t\r\n\t\t\t<view class=\"syh-inform\">\r\n\t\t\t\t<view class=\"syh-myface\">\r\n\t\t\t\t\t<image :src=\"myFace\" mode=\"widthFix\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"syh-inform-name\">{{user.u_name}}</view>\r\n\t\t\t\t<text class=\"logoff\" @tap=\"logoff\">注销</text>\r\n\t\t\t\t<view class=\"clear\"></view>\r\n\t\t\t\t<view class=\"syh-level\">\r\n\t\t\t\t\t<view class=\"syh-level-text\" :style=\"{'-webkit-text-stroke-color': user.Lv_color}\">Lv{{user.Lv}}</view>\r\n\t\t\t\t\t<view class=\"syh-level-num\">{{user.Lv_num}}</view>\r\n\t\t\t\t\t<view class=\"clear\"></view>\r\n\t\t\t\t\t<view class=\"syh-level-bar\" :style=\"{'border-color': user.Lv_color}\">\r\n\t\t\t\t\t\t<view class=\"syh-level-scoreBar\" :style=\"{width: user.rake, background: user.Lv_color}\">&nbsp;</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"syh-box-banner\">\r\n\t\t\t\t<view class=\"syh-items\">\r\n\t\t\t\t\t<view class=\"line1\"><text>{{user.artCount}}</text></view>\r\n\t\t\t\t\t<view class=\"line2\">文章</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"syh-items\">\r\n\t\t\t\t\t<view class=\"line1\"><text>{{user.u_remainder}}</text></view>\r\n\t\t\t\t\t<view class=\"line2\">余额</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"syh-items\">\r\n\t\t\t\t\t<view class=\"line1\"><text>0</text></view>\r\n\t\t\t\t\t<view class=\"line2\">关注</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"clear\"></view>\r\n\t\t\t<view class=\"syh-title\">\r\n\t\t\t\t<view class=\"syh-blod\">我的文章</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"myart-list\" v-for=\"(item, index) in arts\" :key=\"index\">\r\n\t\t\t\t<view class=\"title\">{{item.art_title}}</view>\r\n\t\t\t\t<view class=\"btns\">\r\n\t\t\t\t\t<view :data-artid=\"item.art_id\" @tap=\"editArt\">编辑</view>\r\n\t\t\t\t\t<view :data-artid=\"item.art_id\" :data-index=\"index\" @tap=\"removeArt\">删除</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"loadMore\" @tap=\"getArtList\" style=\"color: #8F8F94;\">{{loadMore}}</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tvar IknowLevel = [0, 100, 500, 1000, 2500, 5000, 10000];\r\n\tvar IknowColor = ['#BFBFBF', '#BFBFBF', '#95DDB3', '#92D1E5', '#FFB37C', '#FF6C00', '#FF0000'];\r\n\tvar loginRes, _self, page = 1;\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmyFace: '',\r\n\t\t\t\tuser: {},\r\n\t\t\t\tarts: [],\r\n\t\t\t\tloadMore: '点击加载更多'\r\n\t\t\t}\r\n\t\t},\r\n\t\tonPullDownRefresh: function() {\r\n\t\t\tthis.artList = [];\r\n\t\t\tpage = 1;\r\n\t\t\tthis.getArtList();\r\n\t\t},\r\n\t\tonLoad: function() {\r\n\t\t\t_self = this;\r\n\t\t\tloginRes = this.checkLogin(\"../my/my\", 2);\r\n\t\t\tif (!loginRes) {\r\n\t\t\t\treturn;\r\n\t\t\t};\r\n\t\t\tthis.myFace = loginRes[3];\r\n\t\t},\r\n\t\tonShow: function() {\r\n\t\t\tloginRes = this.checkLogin('../my/my', '2');\r\n\t\t\tif (!loginRes) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t// 加载会员信息\r\n\t\t\tuni.request({\r\n\t\t\t\turl: this.apiServer + 'my&m=info',\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theader: {\r\n\t\t\t\t\t'content-type': \"application/x-www-form-urlencoded\"\r\n\t\t\t\t},\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tuid: loginRes[0],\r\n\t\t\t\t\trandom: loginRes[1]\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tvar data = res.data;\r\n\t\t\t\t\tres = JSON.parse(data.slice(data.indexOf('{')));\r\n\t\t\t\t\tif (res.status == 'ok') {\r\n\t\t\t\t\t\tthis.user = res.data;\r\n\t\t\t\t\t\tthis.scoreBar(this.user.u_integral);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tthis.getArtList();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tscoreRake: function(score) {\r\n\t\t\t\tvar len = IknowLevel.length;\r\n\t\t\t\tvar i = this.getUserLevel(score);\r\n\t\t\t\tvar min, max, rake;\r\n\t\t\t\tif (i == 0) return 0;\r\n\t\t\t\tif (i >= len) {\r\n\t\t\t\t\treturn 100;\r\n\t\t\t\t}\r\n\t\t\t\tmin = IknowLevel[i - 1];\r\n\t\t\t\tmax = IknowLevel[i];\r\n\t\t\t\tif (score > min && score <= max)\r\n\t\t\t\t\treturn (score - min) * 100 / (max - min);\r\n\t\t\t\treturn 0;\r\n\t\t\t},\r\n\t\t\tgetUserLevel: function(score) {\r\n\t\t\t\tfor (var i = 0, l = IknowLevel.length; i < l; i++) {\r\n\t\t\t\t\tif (score <= IknowLevel[i]) break;\r\n\t\t\t\t}\r\n\t\t\t\treturn i;\r\n\t\t\t},\r\n\t\t\tscoreBar: function(score) {\r\n\t\t\t\tvar rake = this.scoreRake(score);\r\n\t\t\t\tvar level = this.getUserLevel(score);\r\n\t\t\t\tvar needscore;\r\n\t\t\t\tif (level >= 7) {\r\n\t\t\t\t\tlevel = 6;\r\n\t\t\t\t\tneedscore = \"/--\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tneedscore = \"/\" + IknowLevel[level];\r\n\t\t\t\t}\r\n\t\t\t\tif (score < 0) {\r\n\t\t\t\t\tneedscore = \"\";\r\n\t\t\t\t}\r\n\t\t\t\tthis.user.Lv = level;\r\n\t\t\t\tthis.user.Lv_color = IknowColor[level];\r\n\t\t\t\tthis.user.Lv_num = score + needscore;\r\n\t\t\t\tthis.user.rake = rake + '%';\r\n\t\t\t},\r\n\t\t\tlogoff: function() {\r\n\t\t\t\tuni.removeStorageSync('SUID');\r\n\t\t\t\tuni.removeStorageSync('SRAND');\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: \"您已经退出\",\r\n\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\turl: '../index/index'\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 1000);\r\n\t\t\t},\r\n\t\t\teditArt: function(e) {\r\n\t\t\t\tvar artId = e.currentTarget.dataset.artid;\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"../editArt/editArt?artId=\" + artId\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tremoveArt: function(e) {\r\n\t\t\t\tvar artId = e.currentTarget.dataset.artid;\r\n\t\t\t\tvar index = e.currentTarget.dataset.index;\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: \"提示\",\r\n\t\t\t\t\tcontent: \"确定要删除吗?\",\r\n\t\t\t\t\tsuccess: function(e) {\r\n\t\t\t\t\t\tif (e.confirm == true) {\r\n\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\turl: _self.apiServer + 'my&m=removeArt',\r\n\t\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\t\t'content-type': \"application/x-www-form-urlencoded\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\tuid: loginRes[0],\r\n\t\t\t\t\t\t\t\t\trandom: loginRes[1],\r\n\t\t\t\t\t\t\t\t\tartId: artId\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\tvar data = res.data;\r\n\t\t\t\t\t\t\t\t\tres = JSON.parse(data.slice(data.indexOf('{')));\r\n\t\t\t\t\t\t\t\t\tif (res.status == 'ok') {\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"已删除\",\r\n\t\t\t\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t_self.arts.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"删除失败\",\r\n\t\t\t\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetArtList: function() {\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: this.apiServer + 'my&m=arts&page=' + page,\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'content-type': \"application/x-www-form-urlencoded\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tuid: loginRes[0],\r\n\t\t\t\t\t\trandom: loginRes[1]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tvar data = res.data;\r\n\t\t\t\t\t\tres = JSON.parse(data.slice(data.indexOf('{')));\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tif (res.status == 'ok') {\r\n\t\t\t\t\t\t\tthis.arts = res.data;\r\n\t\t\t\t\t\t\tpage++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete:function(){\r\n\t\t\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t\r\n</style>\n"],"sourceRoot":""}